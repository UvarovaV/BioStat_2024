knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(psych)
library(tibble)
library(dplyr)
data %\>%
glimpse()
data %>%
glimpse()
read_delim("data_csv.csv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
install.packages("png")
install.packages("jpeg")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(psych)
library(tibble)
library(dplyr)
library(png)
Базовый select <- readPNG("'Базовый selecg'")
install.packages("grid")
install.packages("grid")
install.packages("grid")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(psych)
library(tibble)
library(dplyr)
library(png)
library(grid)
'Базовый select' <- readPNG("Базовый select.png")
grid.raster('Базовый select')
i <- readPNG("Базовый select.png")
grid.raster(i)
i <- readPNG("Базовый select.png")
grid.raster(i)
select <- readPNG("select.png")
grid.raster(select)
select <- readPNG("select.png")
grid.raster(select)
select <- readPNG("select.png")
grid.newpage()
grid.raster(select)
select <- readPNG("Базовый.png")
select <- readPNG("Базовый select.png")
grid.newpage()
grid.raster(select)
'Базовый select' <- readPNG("Базовый select.png")
grid.newpage()
grid.raster('Базовый select')
`Базовый select` <- readPNG("Базовый select.png")
grid.newpage()
grid.raster(`Базовый select`)
data %>%
select(`Группа крови`, `Рост`)
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
select(`Группа крови`, `Рост`)
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
select(`Группа крови`, `Рост`)
data
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
select(`Группа`)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(psych)
library(tibble)
library(dplyr)
library(png)
library(grid)
read_delim("data_tsv.tsv", delim = "\t", quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
select(`Группа`)
read_delim("data_tsv.tsv", delim = "\t", quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
dplyr::select(`Группа`)
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
data$ `Группа крови`
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
data$ `Группа крови`
read_delim("data_tsv.tsv", delim = "\t", quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>% View()
data %>% View()
data %>% View()
data %>%
glimpse()
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
data %>%
View()
data %>%
select(`Группа`, where(is.numeric))
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
select(`Группа`, (function(x) is.factor(x)) | where(function(x) is.numeric(x)))
`Базовый select` <- readPNG("Базовый select.png")
grid.newpage()
grid.raster(`Базовый select`)
read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
data %>% select(`Группа крови`, `Возраст`, function(x) anyNA(x))
data <- read_delim("data_tsv.tsv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
data %>%
data %>% select(`Группа крови`, `Возраст`, function(x) anyNA(x))
data %>%
data %>% select(`Группа крови`, `Возраст`)
`Базовый select` <- readPNG("Базовый select.png")
grid.newpage()
grid.raster(`Базовый select`)
---
title: "team_1"
install.packages(lubridate)
install.packages(lubridate)
install.packages("lubridate")
install.packages("lubridate")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(lubridate)
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data
original_data %>%
glimpse()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readxl)
library(lubridate)
library(dplyr)
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит__0")) %>%
glimpse()
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__")) %>%
glimpse()
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__")) %>% str_replace("V1_", "Визит 1__")) %>%
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__")) %>% str_replace("V1_", "Визит 1__")) %>%
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__")) %>%
glimpse()
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__")) %>% str_replace("V1_", "Визит 1__")) %>%
glimpse()
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__"))
%>% str_replace("V1_", "Визит 1__")) %>%
%>%
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__"))
%>%
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__"))
original_data %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__")) %>% str_replace("V1_", "Визит 1__"))
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__") %>% str_replace("V1_", "Визит 1__")
original_data %>%
original_data %>% rename_with(function(x) x %>% str_replace("V0_", "Визит 0__") %>% str_replace("V1_", "Визит 1__")) %>%
glimpse()
original_data %>% rename_with(function(x) x %>% str_replace("V0_", "Визит 0__") %>% str_replace("V1_", "Визит 1__") %>% str_replace("V2_", "Визит 2__")) %>%
glimpse()
read.csv2("/Users/vika/Yandex.Disk.localized/R/BioStat_Bioinformatics\ Institute/Автоматизация\ данных\ в\ R/team_1.csv") -> original_data
original_data %>%
select(contains(c("GRP", "GEN", "VAS", "WBC", "RBC", "HGB"))) %>%
rename_with(function(x) x %>% str_replace("V0_", "Визит 0__") %>% str_replace("V1_", "Визит 1__") %>% str_replace("V2_", "Визит 2__")) %>%
glimpse()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(psych)
library(tibble)
library(dplyr)
library(png)
library(grid)
data %>% select("Группа крови", "Возраст") %>%
glimpse()
data %>% select("Группа крови", "Возраст")
data %>% select("Группа крови", "Возраст")
data %>% select(!"Группа крови")
data %>% select(!"Группа крови")
data %>% select("Группа", where(is.numeric()))
data %>% select("Группа", where(is.numeric())
data %>% select("Группа", where(is.numeric))
data %>%
select("Группа", where(is.numeric))
data %>%
select("Группа", where(is.numeric) & function(x) mean(x, na.rm = TRUE) > 10)
data %>%
select("Группа", where(is.numeric) & function(x) mean(x, na.rm = T) > 10)
data %>%
select("Группа", where(is.numeric) & function(x) mean(x, na.rm = T) > 10)
data %>%
select("Группа", select_if(is.numeric) %>% select_if(~ mean(., na.rm = TRUE) > 10))
data %>%
select("Группа", where(~ is.numeric(.) && mean(., na.rm = TRUE) > 10))
data %>%
select("Группа", where(is.numeric) && function(x) mean(x, na.rm = T) > 10)
data %>%
select("Группа", where(is.numeric) & function(x) mean(x, na.rm = T) > 10)
data %>%
select("Группа", where(is.numeric) %>% function(x) mean(x, na.rm = T) > 10)
data %>% select(where(is.numeric)) %>% select(where(function(x) mean(x) > 10))
data %>%
select("Группа", where(~ is.numeric(.) && mean(., na.rm = TRUE) > 10))
data %>% select("Группа", where(is.numeric)) %>% select(where(function(x) mean(x) > 10))
data %>% select(where(is.numeric)) %>% select(where(function(x) mean(x) > 10))
data %>% select(where(is.numeric)) %>% select(where(function(x) mean(x) > 10))
data %>%
select("Группа", where(~ is.numeric(.) && mean(., na.rm = TRUE) > 10))
data %>%
select("Группа") %>%
select(where(is.numeric)) %>% select(where(function(x) mean(x) > 10))
data %>%
select(x, where(function(x) is.numeric(x) & mean(x, na.rm = TRUE) > 3.5))
data %>%
select("Пол", "Эритроциты_E1", everything())
data %>%
select("Эритроциты__Визит 1" = "Эритроциты_E1")
data %>%
slice("Эритроциты__Визит 1" = "Эритроциты_E1")
data %>%
slice("Эритроциты_E1")
data %>%
slice(1:10)
data %>%
filter("Пол" == "Женский")
data %>%
filter(Пол == "Женский")
data %>%
filter(`Пол` == "Женский")
data %>%
filter(Группа крови` %in% c("A (II)","0 (I)") & `Группа` !="Группа 1")
data %>%
filter(`Группа крови` %in% c("A (II)","0 (I)") & `Группа` !="Группа 1")
data %>%
filter(`Пол` == "Женский")
data %>%
filter(`Группа крови` %in% c("A (II)","O (I)") & `Группа` !="Группа 1")
data %>%
filter(between(`Возраст`, 31, 34))
data %>%
filter(near(Эозинофилы_E1, 3.38, tol = 0.1))
data %>%
filter(if_all(.cols = contains ("Базофилы"), . fns = function(x) x > 1. 5))
data %>%
filter(if_all(.cols = contains("Базофилы"), .fns = function(x) x > 1.5))
data %>%
filter(if_any(.cols = contains("Базофилы"), .fns = function(x) x > 1.5))
data %>%
group_by(`Группа`) %>%
filter (`Возраст` > 36)
data %>%
mutate(`Женщины с четвертой группой крови` = ifelse(`Пол` == "Женский" & `Группа крови` == "AB (IV)", "Да", "Нет")) %>%
select(`Женщины с четвертой группой крови`, everything()) %>%
arrange(`Женщины с четвертой группой крови`)
tibble(var_1 = 1:10, var_2 = var_1 + 1.123) %>%
mutate(var_sum = var_1 + var_2,
var_minus = var_1 - var_2,
var_multiple = var_1 * var_2,
var_divide = var_1 / var_2,
var_1_log = log(var_1),
var_1_log1p = log1p(var_1),
var_1_exp = exp(var_1_log),
var_1_exm1 = expml (var_1_log1p),
var_2_round = round (var_2, 2),
var_2_ceil = cefling(var_2),
var_2_floor = floor (var_2)) %>%
glimpse()
tibble(var_1 = 1:10, var_2 = var_1 + 1.123) %>%
mutate(var_sum = var_1 + var_2,
var_minus = var_1 - var_2,
var_multiple = var_1 * var_2,
var_divide = var_1 / var_2,
var_1_log = log(var_1),
var_1_log1p = log1p(var_1),
var_1_exp = exp(var_1_log),
var_1_exm1 = expm1(var_1_log1p),
var_2_round = round (var_2, 2),
var_2_ceil = cefling(var_2),
var_2_floor = floor (var_2)) %>%
glimpse()
tibble(var_1 = 1:10, var_2 = var_1 + 1.123) %>%
mutate(var_sum = var_1 + var_2,
var_minus = var_1 - var_2,
var_multiple = var_1 * var_2,
var_divide = var_1 / var_2,
var_1_log = log(var_1),
var_1_log1p = log1p(var_1),
var_1_exp = exp(var_1_log),
var_1_exm1 = expm1(var_1_log1p),
var_2_round = round (var_2, 2),
var_2_ceil = ceiling(var_2),
var_2_floor = floor (var_2)) %>%
glimpse()
data %>%
mutate(`Возрастная группа` = case_when(`Возраст` < 20 ~ "< 20",
between(`Возраст`, 20, 30) ~ "20 - 30",
`Возраст` > 30 ~ "> 30") %>% as.factor()) %>%
select(`Возраст`, `Возрастная группа`)
data %>%
mutate(`Группа крови` = `Группа крови` %>% as.character() %>% replace_na("Нет данных") %>% as.factor())
data %>%
mutate(`Группа крови` = `Группа крови` %>% na_if("B (III)"))
data %>%
mutate(`Группа` = NULL)
data %>%
mutate(across(where(is.numeric), function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(contains("E1")), function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(contains("E1"), function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(function(x) mean(x, na.rm = TRUE) < 10, function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(where(is.numeric) & where(function(x) mean(x, na.rm = TRUE) < 10),
function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(where(function(x) mean(x, na.rm = TRUE) < 10),
function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(where(is.numeric) & where(function(x) mean(x, na.rm = TRUE) < 10),
function(x) (x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE)))
data %>%
mutate(across(where(is.numeric),
function(x) ifelse(mean(x, na.rm = TRUE) < 10,
(x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE), x)))
data %>%
mutate(across(where(is.numeric), function(x) ifelse(mean(x, na.rm = TRUE) < 10,
(x - mean(x, na.rm = TRUE)) / sd(x, na.rm = TRUE), x)))
data %>%
rowwise() %>%
mutate(`Среднее по базофилам` = mean(c_across(contains("Базофилы")))) %>%
ungroup() %>%
select(contains("Базофил"))
data %>%
group_by(`Группа`) %>%
mutate(across(contains("Базофилы"), function(x) x - mean(x, na.rm = TRUE))) %>%
ungroup() %>%
select(`Группа`, contains("Базофилы"))
install.packages("flextable")
install.packages("flextable")
library(flextable)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(psych)
library(tibble)
library(dplyr)
library(png)
library(grid)
data <- read_delim("carrental.csv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
data <- read_delim("carrental.csv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
data <- read_delim("carrental.csv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data %>%
glimpse()
prevalence_experience <- data %>%
summarize(prevalence = mean(experience == 1) * 100)
colnames(data)
prevalence_experience <- data %>%
summarize(prevalence = mean("experience" == 1) * 100)
print(prevalence_experience)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(tibble)
library(dplyr)
prevalence_experience_0 <- data %>%
summarize(prevalence = mean("experience" == 1) * 100)
print(prevalence_experience_0)
data$"id" <- as.numeric(data$"id")
data$"id" <- as.numeric(data$"id") %>%
glimpse()
data$id <- as.numeric(data$id) %>%
glimpse()
data$id <- as.numeric(data$id)
data_id <- as.numeric(data$id)
data_id <- as.numeric(data$"id")
data_processed <-
data %>%
rename_with(function(x) x %>% str_replace("id", id))
data_processed <-
data %>%
rename_with(function(x) x %>% str_replace(`"id"`, id))
data_processed <-
data %>%
rename_with(function(x) x %>% str_replace("experience", experience))
data_processed <-
data %>%
rename_with(function(x) x %>% str_replace(`"experience"`, experience))
#data <- read_delim("carrental.csv", delim = NULL, quote = "", na = c("","NA"), skip = 0, n_max = Inf, col_names = TRUE)
data <- read.csv("carrental.csv", check.names = FALSE)
data %>%
glimpse()
data <- read.csv("carrental.csv")
data %>%
glimpse()
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE)
print(prevalence_experience_0)
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(prevalence_experience_0)
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print("prevalence_experience_0", prevalence_experience_0)
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence_experience_0 = ", prevalence_experience_0))
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence experience 0 = ", prevalence_experience_0, "%"))
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence experience 0 = ", prevalence_experience_0, " %"))
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
prevalence_experience_1 <-
sum(data$experience == 1, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence experience (no experience) = ", prevalence_experience_0, "%"))
print(paste0("prevalence experience (experience) = ", prevalence_experience_1, "%"))
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
prevalence_experience_1 <-
sum(data$experience == 1, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence experience (no experience) = ", prevalence_experience_0, " %"))
print(paste0("prevalence experience (experience) = ", prevalence_experience_1, " %"))
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / sum(data$id, na.rm = TRUE) * 100
prevalence_experience_1 <-
sum(data$experience == 1, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence experience (no experience) = ", prevalence_experience_0, " %"))
print(paste0("prevalence experience (experience) = ", prevalence_experience_1, " %"))
prevalence_experience_0 <-
sum(data$experience == 0, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
prevalence_experience_1 <-
sum(data$experience == 1, na.rm = TRUE) / max(data$id, na.rm = TRUE) * 100
print(paste0("prevalence experience (no experience) = ", prevalence_experience_0, " %"))
print(paste0("prevalence experience (experience) = ", prevalence_experience_1, " %"))
tinytex::install_tinytex()
